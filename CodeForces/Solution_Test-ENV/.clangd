# .clangd Configuration for "Competitive Programming"

CompileFlags:
  Add:
    # Standard C++23 flags for competitive programming
    - -std=c++23
    - -O2
    - -DLOCAL=1

    # Force GCC compatibility mode
    - -D__GNUC__=15
    - --gcc-toolchain=/opt/homebrew

    # Use -isystem to treat these as system headers (suppresses diagnostics)
    - -isystem
    - /opt/homebrew/include/c++/15
    - -isystem
    - /opt/homebrew/include/c++/15/aarch64-apple-darwin24
    - -isystem
    - /opt/homebrew/include/c++/15/backward

    # Aggressively suppress all warnings and errors from system code
    - -w
    - -Wno-everything
    - -ferror-limit=1
    - -fmax-errors=1
    - -ftemplate-backtrace-limit=1
    - -fbracket-depth=512
    - -fconstexpr-depth=512
    - -fdelayed-template-parsing

    # Disable clang's builtin includes that might conflict
    - -nostdinc++
    - -nobuiltininc
    - /opt/homebrew/include/c++/15

    # Competitive programming optimizations
    - -DDEBUG
    - -g0 # No debug info for faster compilation

  Remove:
    # Remove problematic clang flags
    - -stdlib=*
    - -fcolor-diagnostics

  Compiler: clang

Diagnostics:
  # Suppress diagnostics from system and standard library files
  Suppress:
    # All Homebrew installed headers (including GCC stdlib)
    - "^/opt/homebrew/.*"
    # System headers
    - "^/usr/include/.*"
    - "^/System/.*"
    - "^/Applications/Xcode.app/.*"
    # Standard library bits
    - ".*bits/.*"
    - ".*ext/.*"
    - ".*__.*"
    - ".*std_abs.*"
    - ".*stdlib.*"
    - ".*cstdlib.*"
    - ".*algorithm.*"
    - ".*vector.*"
    - ".*iostream.*"
    # Specific problematic files
    - ".*stdc\\+\\+.*"
    - ".*c\\+\\+/.*"

  # Disable clang-tidy completely for competitive programming
  ClangTidy:
    Remove: ["*"]
    Add: []

  # Disable other checks that can be noisy
  UnusedIncludes: None
  MissingIncludes: None

# Index settings for better performance
Index:
  Background: Build

# Completion settings
Completion:
  AllScopes: Yes
